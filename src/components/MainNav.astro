---
const { class: className } = Astro.props;

const { pathname } = new URL(Astro.request.url);
const links = [
  {
    href: "/",
    textContent: "ğŸ  home-page ğŸ¡",
  },
  {
    href: "/projects-and-works",
    textContent: "ğŸ’¼ projects-and-works ğŸ¢",
  },
  {
    href: "/curriculum-vitae",
    textContent: "ğŸ“„ curriculum-vitae ğŸª¶",
  },
  {
    href: "/free-code-camp",
    textContent: "ğŸ§‘â€ğŸ’» free-code-camp ğŸ•ï¸",
  },
];

function isActive(href: string) {
  if (href === "/") {
    return pathname === "/";
  }
  return pathname.startsWith(href);
}
---

<nav
  class:list={[
    "w-60 h-full rounded-tl-lg bg-gray-200 dark:bg-gray-800",
    className,
  ]}
>
  <ul class="mt-4 ml-2">
    {
      links.map(({ href, textContent }) => (
        <li class="w-full mb-0.5">
          <a
            href={href}
            class={`block py-1 px-2 w-full h-full hover:bg-gray-50 hover:dark:bg-gray-700 hover:bg-opacity-80  before:content-['#'] rounded-l-md ${
              isActive(href)
                ? "bg-gray-50 dark:bg-gray-700 hover:bg-opacity-100"
                : ""
            }`}
          >
            {textContent}
          </a>
        </li>
      ))
    }
  </ul>
</nav>
