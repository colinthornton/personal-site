---
const { class: className } = Astro.props;

const circleClass =
  "w-12 h-12 rounded-[50%] hover:rounded-2xl transition-[border-radius] duration-200 active:translate-y-px";
---

<div
  class:list={[
    "w-20 h-full grid grid-flow-row content-start justify-items-center gap-2",
    className,
  ]}
>
  <a href="/">
    <img
      src="https://avatars.githubusercontent.com/u/17635021?v=4"
      alt="colin-thornton"
      title="colin-thornton"
      class={circleClass}
    />
  </a>
  <div class="w-[40%] border-b-2 border-gray-700"></div>
  <button
    aria-hidden="true"
    title="dark-mode"
    id="dark-mode-toggle"
    class={`${circleClass} bg-slate-500`}>🌙</button
  >
  <button
    aria-hidden="true"
    title="light-mode"
    id="light-mode-toggle"
    class={`${circleClass} bg-orange-200`}>☀️</button
  >
</div>

<script>
  document.getElementById("dark-mode-toggle")?.addEventListener("click", () => {
    document.documentElement.classList.add("dark");
    localStorage.setItem("theme", "dark");
  });
  document
    .getElementById("light-mode-toggle")
    ?.addEventListener("click", () => {
      document.documentElement.classList.remove("dark");
      localStorage.setItem("theme", "light");
    });
</script>

<style>
  html.dark #dark-mode-toggle {
    @apply rounded-2xl;
  }

  html:not(.dark) #light-mode-toggle {
    @apply rounded-2xl;
  }
</style>
